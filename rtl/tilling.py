import numpy as np
import random
rows_a = 35
cols_a = 35
rows_b = 35
cols_b = 35
random.seed(42)

# Generate matrix A
# matrix_a = np.array([[random.randint(0, 6) for _ in range(cols_a)] for _ in range(rows_a)])

# # Generate matrix B
# matrix_b = np.array([[random.randint(0, 6) for _ in range(cols_b)] for _ in range(rows_b)])
matrix_a=np.array([[2,0,4,5,5,4,4,3,1,4,1,0,3,4,0,5,2,2,0,2,2,1,5,4,0,2,3,4,1,2,2,0,1,1,3],[3,0,4,4,5,1,3,4,5,1,5,5,2,0,3,4,3,3,2,4,3,3,0,5,2,4,2,2,1,1,3,4,3,0,5],[1,3,0,1,1,4,5,4,2,2,3,4,0,1,5,1,0,0,3,0,4,2,2,0,2,5,0,4,0,1,5,3,2,3,3],[1,4,5,5,4,3,5,5,1,4,4,3,3,2,1,2,1,2,2,5,1,5,4,0,0,3,2,3,4,5,3,1,0,1,0],[4,1,5,2,5,1,0,1,2,2,0,1,5,5,1,0,1,3,0,0,0,4,0,1,1,0,0,3,1,5,4,4,5,1,0],[1,1,2,0,3,5,3,5,3,2,2,2,0,1,4,5,0,1,4,5,0,3,1,3,1,1,4,3,2,0,5,2,3,2,1],[1,5,1,2,4,4,0,1,0,3,3,5,2,3,2,5,5,0,1,4,0,0,2,4,5,1,4,4,0,3,2,5,4,0,5],[0,3,2,3,2,0,5,2,0,2,2,2,3,3,0,4,4,3,2,5,0,2,2,5,5,5,0,5,1,1,3,4,2,3,0],[3,3,3,0,4,1,4,3,5,0,0,5,1,4,1,4,4,2,4,3,5,5,4,1,0,5,4,0,2,5,1,2,2,3,3],[2,3,0,0,1,3,1,2,4,1,2,0,0,4,0,4,5,2,2,2,3,3,1,4,3,5,1,0,0,2,3,3,3,4,1],[2,2,1,3,2,5,0,1,4,0,1,5,1,4,4,0,3,4,5,0,1,1,5,2,3,2,5,1,4,3,1,0,5,2,4],[4,2,1,1,5,3,2,1,5,2,0,0,2,0,1,5,2,2,3,3,3,4,0,1,5,4,3,2,5,1,2,1,5,3,5],[0,0,0,0,1,0,3,4,5,2,1,2,3,5,1,5,5,2,1,2,0,3,2,1,0,3,0,5,5,0,5,1,4,1,4],[5,1,5,2,3,4,5,3,2,1,4,0,0,4,4,3,5,2,4,0,3,0,3,0,0,1,1,1,2,0,1,3,1,5,1],[2,4,0,3,5,2,0,4,3,4,5,4,4,2,5,3,5,2,5,3,1,1,4,4,5,2,3,3,3,2,2,2,4,5,4],[4,4,5,3,0,3,4,0,4,2,3,5,5,4,1,2,1,0,4,2,3,5,4,4,3,5,4,3,2,3,0,4,1,0,4],[5,2,0,4,0,4,0,3,4,0,2,1,1,1,0,5,3,1,0,0,2,5,5,3,4,3,5,5,3,2,4,5,4,3,1],[0,3,5,5,2,2,4,1,4,5,2,3,3,1,0,3,2,1,1,2,3,5,0,3,2,2,0,1,2,2,1,5,3,2,4],[2,2,2,0,2,3,5,2,2,3,1,1,0,0,5,1,2,1,4,5,3,0,1,1,1,1,2,0,1,1,0,1,0,5,2],[2,5,0,1,3,3,1,5,2,3,4,2,3,4,5,4,5,0,1,3,4,5,1,0,1,2,0,2,1,3,1,3,0,3,3],[5,0,4,0,0,2,1,5,4,2,0,1,2,5,2,4,5,5,3,4,4,1,5,1,5,3,4,4,0,4,1,4,5,4,5],[0,5,2,2,0,1,1,3,4,1,1,3,1,4,0,1,4,1,1,1,4,0,0,2,3,4,1,1,1,0,1,0,1,1,0],[0,3,5,3,0,5,0,3,2,4,4,3,1,0,4,5,3,2,3,0,3,0,0,1,0,0,4,0,0,5,1,0,0,0,3],[4,0,1,1,1,2,3,1,5,2,4,4,3,3,1,0,5,1,3,3,2,0,3,2,3,5,0,0,3,3,2,1,2,2,4],[3,4,1,1,5,2,1,2,3,5,4,3,1,0,3,2,4,4,1,2,2,3,5,1,4,2,1,0,2,0,0,0,4,5,2],[5,1,1,4,4,5,1,2,3,2,3,3,4,5,3,3,3,4,2,3,1,0,3,0,3,0,4,5,3,3,2,4,4,5,4],[5,2,4,3,2,5,0,3,0,5,3,0,5,5,2,3,0,0,2,3,5,3,5,2,1,5,2,2,0,0,4,1,3,4,2],[0,2,3,4,1,4,2,5,5,3,2,2,3,1,3,3,3,0,4,2,0,1,0,3,0,1,4,3,2,1,3,1,3,3,0],[1,1,3,1,0,4,3,0,3,5,3,0,2,4,2,3,0,1,1,3,4,5,2,1,3,0,5,2,0,2,2,2,3,3,0],[4,0,1,3,2,0,3,1,0,5,0,3,4,2,1,0,4,2,2,4,5,3,2,0,2,3,2,5,2,2,2,3,3,3,2],[4,2,0,3,3,3,0,1,3,1,5,2,0,5,0,1,5,0,2,3,5,0,5,0,0,2,4,3,1,3,2,1,2,1,2],[3,0,1,5,2,3,2,2,4,5,4,0,5,3,3,0,2,3,2,4,0,4,0,4,3,2,0,2,5,5,1,4,5,5,5],[4,3,1,2,5,1,1,3,0,0,5,3,0,1,2,3,4,2,3,3,3,0,4,4,3,2,1,0,3,5,5,0,5,4,5],[5,3,0,3,3,0,3,0,4,2,3,3,3,3,0,1,1,2,2,4,0,0,3,3,4,0,5,3,5,4,4,3,3,2,5],[1,0,2,3,5,1,3,1,0,0,0,2,1,2,5,2,5,4,1,4,1,1,5,1,3,0,3,4,2,5,4,3,2,1,0]]
)
matrix_a = matrix_a[:, ::-1]
matrix_b= np.array([[1,1,4,0,0,0,1,2,1,3,1,4,5,0,5,3,4,5,4,2,2,2,4,1,3,0,4,0,5,2,3,0,2,1,5],[5,0,1,4,0,3,2,2,0,2,2,3,3,4,0,2,3,2,5,2,4,0,1,3,3,0,5,3,3,1,2,0,5,2,5],[3,1,2,0,3,2,1,3,2,4,5,3,4,1,2,2,0,4,1,3,1,0,1,2,3,0,4,0,5,5,2,4,5,3,0],[5,0,4,3,5,5,2,4,3,0,4,0,0,0,2,5,4,2,2,5,3,1,4,3,3,5,2,4,2,3,1,5,0,3,3],[0,1,1,4,1,4,5,0,4,1,3,5,0,4,4,3,2,5,4,1,1,3,0,3,2,5,5,4,1,1,4,5,4,4,4],[0,1,3,5,3,0,5,3,0,4,2,4,0,1,5,0,4,1,3,5,2,4,3,3,4,3,2,1,3,4,5,3,1,1,4],[2,2,0,1,4,3,2,3,2,1,4,3,1,5,5,3,0,3,4,2,5,0,5,2,5,2,3,1,4,1,5,0,5,0,4],[5,5,0,1,2,1,3,4,1,2,2,2,4,2,1,5,2,0,2,1,4,1,0,4,1,5,3,4,0,5,5,1,3,5,0],[2,2,5,5,0,4,4,1,2,1,2,4,4,3,5,5,2,1,5,3,3,4,0,1,2,5,1,1,0,4,0,0,5,0,3],[4,3,1,2,3,0,2,0,0,1,1,1,2,1,0,5,4,4,2,1,3,0,4,1,5,4,3,2,1,0,4,3,2,2,4],[0,4,4,2,4,2,5,2,2,0,3,3,1,2,1,3,5,0,4,2,3,1,3,2,1,3,5,1,0,0,3,0,1,5,2],[1,3,1,4,2,0,3,2,5,4,5,3,5,0,3,0,3,1,0,5,5,2,1,4,0,2,3,0,0,1,1,3,2,2,5],[4,0,2,0,1,1,4,0,5,1,3,2,2,1,1,2,5,2,3,5,0,3,5,1,5,2,0,5,1,2,5,2,3,4,4],[1,0,5,1,5,3,3,0,1,2,4,3,2,5,2,3,4,3,1,4,5,3,0,1,2,4,0,5,1,3,5,0,1,1,2],[2,4,2,0,2,3,3,4,2,0,3,4,3,2,0,3,1,1,2,4,5,5,3,1,1,4,2,2,0,3,0,5,4,3,2],[3,4,2,0,5,3,5,4,1,3,3,3,0,0,1,2,5,3,5,4,2,2,0,5,4,5,5,3,2,3,4,1,3,0,5],[5,3,3,0,5,4,1,2,2,2,1,5,0,2,3,3,0,1,0,3,0,2,1,0,2,4,0,4,1,3,0,2,4,3,2],[0,3,1,1,2,5,5,5,2,2,2,3,1,1,2,1,1,5,3,0,0,3,2,1,5,4,2,5,1,2,3,4,4,0,0],[0,1,5,1,4,1,4,5,5,0,3,3,0,5,0,0,4,5,0,0,5,1,3,4,4,5,2,2,2,4,2,2,1,0,0],[3,3,2,4,5,5,2,5,4,3,3,2,1,5,3,5,4,4,3,5,0,3,0,1,2,4,3,3,1,0,4,0,3,4,5],[4,0,3,0,5,0,1,2,5,5,4,1,5,2,5,4,2,2,3,5,5,5,4,3,3,4,0,0,0,0,1,3,2,0,3],[4,1,2,5,0,0,1,3,1,2,4,1,5,1,5,5,0,2,0,4,3,4,3,0,3,4,5,4,5,5,5,5,5,0,3],[5,1,3,0,4,3,2,5,3,1,4,4,0,4,1,4,5,3,5,4,3,2,3,5,4,1,2,2,4,0,4,3,3,2,2],[2,5,1,2,0,1,3,4,1,4,1,4,4,3,4,0,4,0,4,1,3,4,0,4,3,0,5,4,0,4,3,1,3,4,1],[0,4,1,5,1,4,5,5,1,3,0,0,1,2,5,5,0,2,5,5,0,1,4,0,2,4,5,5,5,2,5,2,3,4,4],[0,3,1,4,1,2,0,4,5,0,4,5,3,1,4,2,5,4,0,0,0,2,2,5,2,2,4,1,1,5,0,5,1,5,2],[1,5,4,3,1,1,5,2,2,3,1,0,5,2,5,0,2,1,5,5,4,4,2,3,4,1,0,1,3,1,2,3,4,5,3],[1,2,1,5,4,5,0,2,0,5,3,3,5,2,1,1,0,4,4,2,2,5,1,0,4,5,1,1,2,2,5,5,4,5,0],[2,0,3,3,1,5,5,4,2,2,2,3,0,3,0,5,0,5,2,1,1,3,5,5,2,5,0,0,3,4,3,2,1,2,1],[5,0,0,2,4,5,2,3,5,5,2,1,4,1,5,4,1,2,2,4,0,0,5,1,2,2,2,3,0,5,0,4,1,5,5],[4,5,0,0,1,0,4,4,2,4,5,1,4,4,0,5,4,5,2,4,0,5,3,5,0,3,1,1,3,4,0,5,4,1,5],[1,2,2,1,2,3,3,4,0,3,1,2,3,2,4,2,0,3,3,5,0,3,0,5,0,0,0,5,5,0,0,5,1,0,5],[0,0,1,3,3,0,4,5,0,4,2,0,2,2,5,4,4,2,1,3,1,2,5,3,5,2,2,2,5,1,5,0,3,1,5],[1,3,4,5,0,3,0,2,5,1,3,4,2,2,3,0,1,0,5,5,3,4,1,4,1,1,4,3,1,0,5,4,0,4,3],[3,3,5,1,0,3,3,4,2,2,2,2,3,5,4,0,5,1,3,2,0,3,1,2,5,0,5,5,0,1,5,5,5,0,0]]
)   
matrix_b = matrix_b[:, ::-1]
matrix_c=np.zeros((rows_a,cols_b))
N=cols_b
M=rows_a
K=cols_a
blkn=16
blkm=16
blkk=16
for n in range(0, N, blkn):
    nsize = blkn if n + blkn <= N else N % blkn
    for m in range(0, M, blkm):
        msize = blkm if m + blkm <= M else M % blkm
        for k in range(0, K, blkk):
            ksize = blkk if k + blkk <= K else K % blkk
            matrix_c[m:m+msize, n:n+nsize] += np.dot(matrix_a[m:m+msize, k:k+ksize], matrix_b[k:k+ksize, n:n+nsize])
            print("matrixb=",matrix_b[k:k+ksize, n:n+nsize])
            print("matrixa=",matrix_a[m:m+msize, k:k+ksize])
            print(matrix_c[m:m+msize, n:n+nsize])
            print("-----------------------------------------------------------")
print(np.dot(matrix_a,matrix_b))
